<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üçõ Spicy Foods POS</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/index.css">

</head>
<body>
<!-- Mobile Toggle -->
<button class="toggle-sidebar" onclick="toggleSidebar()">
    <i class="fas fa-bars"></i>
</button>
<!-- SIDEBAR -->
<nav class="sidebar" id="sidebar">
    <div class="logo">
        <i class="fas fa-pepper-hot"></i>
        <h2>SpicyPOS</h2>
    </div>
    <ul class="nav-menu">
        <li class="nav-item">
            <a href="#" class="nav-link active">
                <i class="fas fa-home"></i>
                <span>Dashboard</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="pages/Customer.html" class="nav-link">
                <i class="fas fa-users"></i>
                <span>Customers</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="pages/Item.html" class="nav-link">
                <i class="fas fa-utensils"></i>
                <span>Manage Items</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="pages/Order.html" class="nav-link">
                <i class="fas fa-shopping-cart"></i>
                <span>Place Order</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="pages/OrderHistory.html" class="nav-link">
                <i class="fas fa-history"></i>
                <span>Order History</span>
            </a>
        </li>
        <li class="nav-item">
            <a href="#" class="nav-link">
                <i class="fas fa-chart-line"></i>
                <span>Analytics</span>
            </a>
        </li>
    </ul>
    <button class="logout-btn" onclick="logout()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
    </button>
</nav>
<!-- MAIN CONTENT -->
<main class="main-content animate-slide">
    <!-- HEADER -->
    <div class="header animate-fade">
        <div class="header-left">
            <h1>üçõ Sri Lankan Delights</h1>
            <p>Discover authentic flavors from Ceylon with a modern twist</p>
        </div>
        <div class="search-box" id="searchBox">
            <i class="fas fa-search search-icon"></i>
            <input type="text" id="searchInput" placeholder="Search kottu, hoppers, drinks..." oninput="filterMenu()">
            <button class="clear-btn" onclick="clearSearch()" title="Clear search">
                <i class="fas fa-times"></i>
            </button>
            <button class="filter-btn" onclick="openFilters()">
                <i class="fas fa-sliders-h"></i>
                <span>Filter</span>
            </button>
        </div>
    </div>
    <!-- STATS -->
    <div class="stats-grid">
        <div class="stat-card animate-fade" style="animation-delay: 0.1s;">
            <div class="stat-icon orange">
                <i class="fas fa-fire"></i>
            </div>
            <div class="stat-info">
                <h3>42</h3>
                <p>Menu Items</p>
            </div>
        </div>
        <div class="stat-card animate-fade" style="animation-delay: 0.2s;">
            <div class="stat-icon green">
                <i class="fas fa-shopping-bag"></i>
            </div>
            <div class="stat-info">
                <h3>127</h3>
                <p>Orders Today</p>
            </div>
        </div>
        <div class="stat-card animate-fade" style="animation-delay: 0.3s;">
            <div class="stat-icon blue">
                <i class="fas fa-chart-line"></i>
            </div>
            <div class="stat-info">
                <h3>Rs. 48K</h3>
                <p>Revenue</p>
            </div>
        </div>
        <div class="stat-card animate-fade" style="animation-delay: 0.4s;">
            <div class="stat-icon purple">
                <i class="fas fa-star"></i>
            </div>
            <div class="stat-info">
                <h3>4.8</h3>
                <p>Average Rating</p>
            </div>
        </div>
    </div>
    <!-- CATEGORY TABS -->
    <div class="category-tabs">
        <button class="category-btn active" onclick="filterCategory('all')">All Items</button>
        <button class="category-btn" onclick="filterCategory('kottu')">üî• Kottu Roti</button>
        <button class="category-btn" onclick="filterCategory('hoppers')">ü•ò Hoppers</button>
        <button class="category-btn" onclick="filterCategory('snacks')">üçü Snacks</button>
        <button class="category-btn" onclick="filterCategory('drinks')">ü•§ Beverages</button>
    </div>
    <!-- MENU GRID -->
    <div class="menu-grid" id="menuGrid"></div>
</main>
<!-- Cart Modal -->
<div class="cart-modal" id="cartModal">
    <div class="modal-content">
        <button class="close-modal" onclick="closeCart()">&times;</button>
        <h2 style="margin-bottom: 20px; color: var(--text-primary);">Shopping Cart</h2>
        <div id="cartItems" style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;"></div>
        <div style="display: flex; justify-content: space-between; align-items: center; font-weight: 600;">
            <span>Total: Rs. <span id="cartTotal">0</span></span>
            <button style="background: var(--gradient-primary); color: white; border: none; padding: 12px 24px; border-radius: 50px; cursor: pointer; font-weight: 600;" onclick="checkout()">Checkout</button>
        </div>
    </div>
</div>
<script>
    const menuData = {
        kottu: [
            {name: 'Kottu Roti (Veg)', price: 400, desc: 'Chopped roti with aromatic spices & fresh veggies', category: 'kottu', badge: 'hot', img: 'https://images.unsplash.com/photo-1589301760014-d929f3979dbc?auto=format&fit=crop&w=400&q=80'},
            {name: 'Kottu Roti (Egg)', price: 600, desc: 'Hot & spicy egg-infused kottu delight', category: 'kottu', badge: null, img: 'https://images.unsplash.com/photo-1585032226651-759b368d7246?auto=format&fit=crop&w=400&q=80'},
            {name: 'Kottu Roti (Chicken)', price: 700, desc: 'Tender chicken in spicy kottu fusion', category: 'kottu', badge: 'new', img: 'https://images.unsplash.com/photo-1589301773859-34462d8fdcbb?auto=format&fit=crop&w=400&q=80'},
            {name: 'Kottu Roti (Seafood)', price: 800, desc: 'Fresh seafood in bold spicy kottu', category: 'kottu', badge: null, img: 'https://images.unsplash.com/photo-1565557623262-b51c2513a641?auto=format&fit=crop&w=400&q=80'}
        ],
        hoppers: [
            {name: 'Plain Hopper', price: 50, desc: 'Classic Sri Lankan rice flour bowl, light and crispy', category: 'hoppers', badge: null, img: 'https://images.unsplash.com/photo-1601050633647-81a35d377a8a?auto=format&fit=crop&w=400&q=80'},
            {name: 'Egg Hopper', price: 100, desc: 'Crispy hopper with perfectly cooked egg and spicy sambal', category: 'hoppers', badge: 'hot', img: 'https://images.unsplash.com/photo-1606491956689-2ea866880c84?auto=format&fit=crop&w=400&q=80'}
        ],
        snacks: [
            {name: 'Egg Roti', price: 180, desc: 'Crispy fried roti stuffed with savory egg filling', category: 'snacks', badge: null, img: 'https://images.unsplash.com/photo-1628840042765-356cda07504e?auto=format&fit=crop&w=400&q=80'},
            {name: 'Fish Patty', price: 120, desc: 'Golden crispy fish patties (minimum order 5)', category: 'snacks', badge: null, img: 'https://images.unsplash.com/photo-1626804475297-41608ea09aeb?auto=format&fit=crop&w=400&q=80'},
            {name: 'Samosa', price: 150, desc: 'Spicy vegetable samosas, fried to perfection', category: 'snacks', badge: null, img: 'https://images.unsplash.com/photo-1601050690117-94f5f6fa9e44?auto=format&fit=crop&w=400&q=80'},
            {name: 'French Fries', price: 900, desc: 'Crispy golden fries with a spicy twist', category: 'snacks', badge: null, img: 'https://images.unsplash.com/photo-1573080496219-bb080dd4f877?auto=format&fit=crop&w=400&q=80'},
            {name: 'Isso Vadei', price: 80, desc: 'Spicy prawn fritters, a coastal favorite', category: 'snacks', badge: 'new', img: 'https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?auto=format&fit=crop&w=400&q=80'}
        ],
        drinks: [
            {name: 'Coca-Cola', price: 150, desc: 'Classic refreshing cola (300ml bottle)', category: 'drinks', badge: null, img: 'https://images.unsplash.com/photo-1554866585-cd94860890b7?auto=format&fit=crop&w=400&q=80'},
            {name: 'King Coconut', price: 200, desc: 'Fresh king coconut water, naturally hydrating', category: 'drinks', badge: 'hot', img: 'https://images.unsplash.com/photo-1585238341710-4a2c8e96af22?auto=format&fit=crop&w=400&q=80'},
            {name: 'Fresh Lime Juice', price: 270, desc: 'Zesty fresh lime juice with a hint of sweetness', category: 'drinks', badge: null, img: 'https://images.unsplash.com/photo-1600271886742-f049cd451bba?auto=format&fit=crop&w=400&q=80'},
            {name: 'Mango Juice', price: 400, desc: 'Fresh tropical mango juice, pure and pulpy', category: 'drinks', badge: null, img: 'https://images.unsplash.com/photo-1600271886742-f049cd451bba?auto=format&fit=crop&w=400&q=80'},
            {name: 'Iced Coffee', price: 250, desc: 'Smooth cold-brewed coffee with ice', category: 'drinks', badge: null, img: 'https://images.unsplash.com/photo-1517487881594-2787fef5ebf7?auto=format&fit=crop&w=400&q=80'},
            {name: 'Vanilla Milkshake', price: 800, desc: 'Creamy vanilla milkshake topped with whipped cream', category: 'drinks', badge: 'new', img: 'https://images.unsplash.com/photo-1572490122747-3968b75cc699?auto=format&fit=crop&w=400&q=80'}
        ]
    };
    let allItems = [];
    Object.values(menuData).forEach(cat => allItems.push(...cat));
    let cart = [];
    let cartTotal = 0;
    function renderMenu(items) {
        const grid = document.getElementById('menuGrid');
        grid.innerHTML = items.map((item, index) => `
            <div class="menu-card animate-fade" style="animation-delay: ${index * 0.1}s;" data-category="${item.category}" data-name="${item.name.toLowerCase()}">
                ${item.badge ? `<span class="badge ${item.badge}">${item.badge.toUpperCase()}</span>` : ''}
                <img src="${item.img}" alt="${item.name}" class="menu-card-img" loading="lazy">
                <div class="menu-card-body">
                    <h3>${item.name}</h3>
                    <p>${item.desc}</p>
                    <div class="menu-footer">
                        <span class="price">Rs. ${item.price.toLocaleString()}</span>
                        <button class="add-to-cart" onclick="addToCart('${item.name}', ${item.price})" title="Add to Cart">
                            <i class="fas fa-plus"></i>
                        </button>
                    </div>
                </div>
            </div>
        `).join('');
    }
    function filterCategory(cat) {
        document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active'));
        event.target.classList.add('active');
        const items = cat === 'all' ? allItems : menuData[cat] || [];
        renderMenu(items);
    }
    function filterMenu() {
        const search = document.getElementById('searchInput').value.toLowerCase();
        const cards = document.querySelectorAll('.menu-card');
        cards.forEach(card => {
            const name = card.dataset.name;
            card.style.display = name.includes(search) ? '' : 'none';
        });
        updateClearButton();
    }
    function clearSearch() {
        document.getElementById('searchInput').value = '';
        filterMenu();
    }
    function updateClearButton() {
        const searchBox = document.getElementById('searchBox');
        const input = document.getElementById('searchInput');
        if (input.value.length > 0) {
            searchBox.classList.add('has-text');
        } else {
            searchBox.classList.remove('has-text');
        }
    }
    function addToCart(name, price) {
        cart.push({name, price});
        cartTotal += price;
        updateCart();
        // Visual feedback
        const btn = event.target.closest('.add-to-cart');
        btn.innerHTML = '<div class="loading"></div>';
        setTimeout(() => {
            btn.innerHTML = '<i class="fas fa-check"></i>';
            setTimeout(() => {
                btn.innerHTML = '<i class="fas fa-plus"></i>';
                openCart();
            }, 500);
        }, 800);
    }
    function updateCart() {
        const cartItems = document.getElementById('cartItems');
        const totalEl = document.getElementById('cartTotal');
        cartItems.innerHTML = cart.map(item => `
            <div style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #e2e8f0;">
                <span>${item.name}</span>
                <span>Rs. ${item.price.toLocaleString()}</span>
            </div>
        `).join('');
        totalEl.textContent = cartTotal.toLocaleString();
    }
    function openCart() {
        document.getElementById('cartModal').classList.add('show');
    }
    function closeCart() {
        document.getElementById('cartModal').classList.remove('show');
    }
    function checkout() {
        alert(`Proceeding to checkout with ${cart.length} items totaling Rs. ${cartTotal.toLocaleString()}! üí≥`);
        cart = [];
        cartTotal = 0;
        closeCart();
        updateCart();
    }
    function toggleSidebar() {
        const sidebar = document.getElementById('sidebar');
        sidebar.classList.toggle('open');
    }
    function openFilters() {
        alert('Filters coming soon! üéõÔ∏è');
    }
    function logout() {
        if (confirm('Are you sure you want to logout?')) {
            window.location.href = 'login.html';
        }
    }
    // Close modal on outside click
    window.onclick = function(event) {
        const modal = document.getElementById('cartModal');
        if (event.target === modal) {
            closeCart();
        }
    }
    // Initialize with stagger animation
    window.addEventListener('load', () => {
        renderMenu(allItems);
        updateClearButton();
    });
    // Listen for input changes to update clear button
    document.getElementById('searchInput').addEventListener('input', updateClearButton);
</script>
</body>
</html>